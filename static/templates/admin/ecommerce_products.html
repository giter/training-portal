<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html>
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link href="../../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
<!-- END GLOBAL MANDATORY STYLES -->
<!-- BEGIN PAGE LEVEL STYLES -->
<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/select2/select2.css"/>
<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"/>
<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-datepicker/css/datepicker.css"/>
<!-- END PAGE LEVEL STYLES -->
<!-- BEGIN THEME STYLES -->
<link href="../../assets/global/css/components.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/admin/layout/css/layout.css" rel="stylesheet" type="text/css"/>
<link id="style_color" href="../../assets/admin/layout/css/themes/default.css" rel="stylesheet" type="text/css"/>
<link href="../../assets/admin/layout/css/custom.css" rel="stylesheet" type="text/css"/>
<!-- END THEME STYLES -->
<link rel="shortcut icon" href="favicon.ico"/>

<style>
	.row {margin:0;}
	.page-header-fixed .page-container {margin-top:0;}
	.page-content-wrapper .page-content{margin-left:0;padding:10px}
</style>

</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="page-header-fixed page-quick-sidebar-over-content ">
<div class="clearfix">
</div>
<!-- BEGIN CONTAINER -->
<div class="page-container">
	<!-- BEGIN CONTENT -->
	<div class="page-content-wrapper">
		<div class="page-content">
			<!-- BEGIN PAGE CONTENT-->
			<div class="row">
				<div class="col-md-12">
					<!-- Begin: life time stats -->
					<div class="portlet">
						<div class="portlet-title">
							
							<div class="caption">
								<div class="page-bar">
									<ul class="page-breadcrumb">
										<li>
											<i class="fa fa-home"></i>
											<a href="index.html">后台管理</a>
											<i class="fa fa-angle-right"></i>
										</li>
										<li>
											<a href="#">基础资料</a>
											<i class="fa fa-angle-right"></i>
										</li>
										<li>
											<a href="#">友情链接</a>
										</li>
									</ul>
									
								</div>
							</div>
						</div>
						<div class="portlet-body">
							<div class="table-container">
								<div class="table-actions-wrapper">
									<span>
									</span>
									<select class="table-group-action-input form-control input-inline input-small input-sm">
										<option value="">批量操作</option>
										<option value="delete">批量删除</option>
									</select>
									<button class="btn btn-sm yellow table-group-action-submit red-stripe">确认</button>
									<div class="btn-group">
										<a class="btn btn-sm default yellow-stripe" href="#" data-toggle="dropdown">
											导出
										</a>
										<ul class="dropdown-menu pull-right">
											<li>
												<a href="#">导出到<b>EXCEL</b></a>
											</li>
											<li>
												<a href="#">导出到<b>CSV</b></a>
											</li>
											<li class="divider">
											</li>
											<li>
												<a href="#">打印页面</a>
											</li>
										</ul>
									</div>
								</div>
								<table class="table table-striped table-bordered table-hover" id="datatable_products">
								</table>
							</div>
						</div>
					</div>
					<!-- End: life time stats -->
				</div>
			</div>
			<!-- END PAGE CONTENT-->
		</div>
	</div>
	<!-- END CONTENT -->
</div>
<!-- END CONTAINER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<!--[if lt IE 9]>
<script src="../../assets/global/plugins/respond.min.js"></script>
<script src="../../assets/global/plugins/excanvas.min.js"></script> 
<![endif]-->
<script src="../../assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui-1.10.3.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="../../assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="../../assets/global/plugins/select2/select2.min.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../../assets/global/scripts/metronic.js" type="text/javascript"></script>
<script src="../../assets/admin/layout/scripts/layout.js" type="text/javascript"></script>
<script src="../../assets/admin/layout/scripts/quick-sidebar.js" type="text/javascript"></script>
<script src="../../assets/admin/layout/scripts/demo.js" type="text/javascript"></script>
<script src="../../assets/global/scripts/datatable.js"></script>
<script src="../../assets/admin/pages/scripts/ecommerce-products.js"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<script>
        jQuery(document).ready(function() {    
        	
           	Metronic.init(); // init metronic core components
			Demo.init(); // init demo features
			
			var EcommerceProducts = function () {

			    var initPickers = function () {
			        //init date pickers
			        $('.date-picker').datepicker({
			            rtl: Metronic.isRTL(),
			            autoclose: true
			        });
			    }

			    var handleProducts = function() {

			        var grid = new Datatable();
			        
			        grid.init({
			            src: $("#datatable_products"),
			            loadingMessage: '加载中...',
			            dataTable: { 
			                "lengthMenu": [
			                    [20, 50, 100, 150],
			                    [20, 50, 100, 150] 
			                ],
			                "pageLength": 20,
			                "ajax": {
			                    "url": "/manage/links/data.json",
			                },
			                "ordering": false,
			                "columns": [
			                	{ "name": "Name","data": "Type", "title":"类型", "targets": 1, "width": 80},
			                	{ "name": "Name","data": "Name", "title":"友链名称", "targets": 2 },
			                	{ "name": "Weight","data": "Weight", "title":"排序", "targets": 3 , "width":48},
			                	{ "name": "Weight","data": "", "title":"图片", "targets": 4,"defaultContent": "", "width":90},
			                	{ "name": "PR","data": "PR", "title":"PR值", "targets": 5,"defaultContent": "", "width":90},
			                	{ "name": "NoFollow","data": "NoFollow", "title":"不计友链", "targets": 6,"defaultContent": "", "width":90},
			                	{ "name": "Created","data": "MTime.Created", "title":"创建时间", "targets": 7,"defaultContent": "", "width":90},
			                	{ "name": "Updated","data": "MTime.Changed", "title":"更新时间", "targets": 8,"defaultContent": "", "width":90},
			                	{ "name": "","data": "", "title":"操作  <button class='btn btn-xs blue'>编辑</button>", "width":90 , "targets": 8, "defaultContent": "<button class='btn btn-xs yellow'>编辑</button> <button class='btn btn-xs red'>删除</button>"},
			                ]
			            }
			        });

			         // handle group actionsubmit button click
			        grid.getTableWrapper().on('click', '.table-group-action-submit', function (e) {
			            e.preventDefault();
			            var action = $(".table-group-action-input", grid.getTableWrapper());
			            if (action.val() != "" && grid.getSelectedRowsCount() > 0) {
			                grid.setAjaxParam("customActionType", "group_action");
			                grid.setAjaxParam("customActionName", action.val());
			                grid.setAjaxParam("id", grid.getSelectedRows());
			                grid.getDataTable().ajax.reload();
			                grid.clearAjaxParams();
			            } else if (action.val() == "") {
			                Metronic.alert({
			                    type: 'danger',
			                    icon: 'warning',
			                    message: 'Please select an action',
			                    container: grid.getTableWrapper(),
			                    place: 'prepend'
			                });
			            } else if (grid.getSelectedRowsCount() === 0) {
			                Metronic.alert({
			                    type: 'danger',
			                    icon: 'warning',
			                    message: 'No record selected',
			                    container: grid.getTableWrapper(),
			                    place: 'prepend'
			                });
			            }
			        });
			    }

			    return {

			        //main function to initiate the module
			        init: function () {

			            handleProducts();
			            initPickers();
			        }
			    };

			}();
			
			EcommerceProducts.init();
        });
    </script>
<!-- END JAVASCRIPTS -->
</body>

<!-- END BODY -->
</html>